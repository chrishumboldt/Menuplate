var $menuplateDefault={selector:".menuplate-trigger",clone:!1,close:"close",reveal:"left",type:"slide",position:"on"},menuplate=function(e){var t=this;e=e||!1,t.options={selector:e.selector||$menuplateDefault.selector,clone:e.clone||$menuplateDefault.clone,close:e.close||$menuplateDefault.close,type:e.type||$menuplateDefault.type,reveal:e.reveal||$menuplateDefault.reveal,position:e.position||$menuplateDefault.position};var n=function(e,t){var n=e.createElement("div");n.id="web-overlay";var l={menuOverlay:n},o={body:e.getElementsByTagName("body")[0],html:e.getElementsByTagName("html")[0]},s=function(e,t){if(u(e))if("object"==typeof t)for(var n=0,l=t.length;l>n;n++)a(e,t[n]);else a(e,t)},a=function(e,t){var n=e.className;null===n.match(new RegExp("\\b"+t+"\\b","g"))&&(e.className=""===n?t:n+" "+t)},c=function(e){u(e)&&e.removeAttribute("class")},i=function(e,t){if(u(e))if("object"==typeof t)for(var n=t.length-1;n>=0;n--)r(e,t[n]);else r(e,t)},r=function(e,t){e.className.indexOf(t)>-1&&(e.className=e.className.split(" ").filter(function(e){return e!=t}).toString().replace(/,/g," "),""===e.className&&c(e))},m=function(e,t,n){null!=e&&"undefined"!=typeof e&&(e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n)},p=function(e,t,n){null!=e&&"undefined"!=typeof e&&(e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=n)},u=function(e){return null===e||void 0===typeof e?!1:!0},d=function(e,t){return(" "+e.className+" ").indexOf(" "+t+" ")>-1},f=function(e){return/\s/.test(e)},v=function(){return"ontouchstart"in window||"onmsgesturechange"in window};return{classAdd:s,classClear:c,classRemove:i,element:o,eventAdd:m,eventRemove:p,exists:u,hasClass:d,hasWhiteSpace:f,html:l,isTouch:v}}(document,t.options),l=t.options.selector.charAt(0).toString();if("#"!==l||n.hasWhiteSpace(t.options.selector))for(var o=document.querySelectorAll(t.options.selector),s=o.length-1;s>=0;s--)new menuplateComponent(o[s],t.options,n);else new menuplateComponent(document.getElementById(t.options.selector.substring(1)),t.options,n)},menuplateComponent=function(e,t,n){function l(){if(n.isTouch()||n.classAdd(n.element.html,"mnp-no-touch"),n.exists(document.getElementById("web-overlay"))||n.element.body.appendChild(n.html.menuOverlay),n.classAdd(c,"mnp-trigger"),t.clone===!0){var e=r.cloneNode(!0);n.classAdd(e,"mnp clone _t-"+t.type+" _r-"+t.reveal),n.element.body.appendChild(e),r=e}else n.classAdd(r,"mnp _t-"+t.type+" _r-"+t.reveal),setTimeout(function(){n.classAdd(r,"mnp-ready")},500);if("fullscreen"==t.type){var l=document.createElement("a");l.className="mnp-close",l.innerHTML=t.close,r.appendChild(l)}if("contextual"==t.type){var o=document.createElement("ul"),s=document.createElement("li"),l=document.createElement("a");l.className="mnp-close",l.innerHTML=t.close,o.className="close-list",s.appendChild(l),o.appendChild(s),n.exists(r.querySelector(".mnp-close"))||r.appendChild(o)}}function o(){var e=r.querySelectorAll("a"),l=r.querySelectorAll("a.mnp-close");c.onclick=function(e){if(e.preventDefault(),n.hasClass(r,"mnp-display"))s();else{if("on"==t.position)var l=e.clientX,o=e.clientY+n.element.body.scrollTop;a();for(var c=document.querySelectorAll(".mnp.mnp-display"),i=0,m=c.length;m>i;i++)n.classRemove(c[i],"mnp-display");n.classAdd(r,"mnp-display"),n.classAdd(n.element.html,"mnp-reveal mnp-t-"+t.type),"contextual"==t.type&&window.innerWidth>=700&&"on"==t.position&&(r.style.top=o+20+"px",r.style.left=l+"px"),n.eventAdd(window,"resize",s),document.getElementById("web-overlay").onclick=function(){s()}}};for(var o=e.length-1;o>=0;o--)e[o].onclick=function(){s()};for(var o=l.length-1;o>=0;o--)l[o].onclick=function(){s()}}function s(){n.eventRemove(window,"resize",s),n.classRemove(document.querySelector(".mnp.mnp-display"),"mnp-display"),n.classRemove(n.element.html,"mnp-reveal"),r.removeAttribute("style"),a()}function a(){n.classRemove(n.element.html,"mnp-t-slide"),n.classRemove(n.element.html,"mnp-t-fullscreen"),n.classRemove(n.element.html,"mnp-t-contextual")}if(n.exists(e)){var c=e,i=c.getAttribute("href"),r=document.querySelector(i);l(),o()}};